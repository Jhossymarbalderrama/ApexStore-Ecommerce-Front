
<section class="text-gray-800 body-font overflow-hidden bg-gray-100">
  <div class="container px-5 pt-12 pb-12 mx-auto">
    <div class="lg:w-4/5 mx-auto flex flex-wrap">
      <img alt="ecommerce" class="bg-white lg:w-1/2 w-full lg:h-auto h-64 object-cover object-center rounded-lg shadow-md p-3"
        [src]="_currentImg ? _currentImg : 'https://dummyimage.com/400x400'" [alt]="_product?.name">

      <div class="lg:w-1/2 w-full lg:pl-10 lg:py-6 mt-6 lg:mt-0">
        <h2 class="text-lg text-gray-600 tracking-wider mb-2">{{_product?.category}}</h2>
        <h1 class="text-gray-900 text-3xl font-semibold mb-4">{{_product?.name?.substring(0,20)}}
          {{_product && _product.name[21] ? "..." : null}}</h1>
        <div class="flex mb-4 items-center">
          <i class="fa-solid fa-boxes-stacked text-blue-600 mr-2"></i>
          <span class="text-blue-600">Stock: {{_product?.stock}}</span>
        </div>
        <p class="leading-relaxed text-gray-700 mb-4">{{_product?.description}}</p>

        <div class="flex mb-4" *ngIf="_product?.discount != 0">
          <span class="text-xl text-red-600">
            <del class="mr-2">${{ _product?.price}}</del>
            <span class="font-semibold">{{_product?.discount}}% off</span>
          </span>
        </div>

        <div class="flex mb-8">
          <span class="text-4xl text-green-600 font-semibold">
            ${{ _price_discound}}
          </span>
        </div>

        
        <div class="flex mb-4">
          <button (click)="addCart()"
            class="flex ml-auto text-white bg-blue-600 border-0 py-3 px-8 focus:outline-none hover:bg-blue-700 rounded-lg flex items-center">Agregar
            al carrito <i class="fa-solid fa-shopping-cart ml-2"></i></button>
          <button
            class="rounded-full w-12 h-12 bg-gray-300 p-0 border-0 inline-flex items-center justify-center text-gray-500 ml-4">
            <svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-6 h-6"
              viewBox="0 0 24 24">
              <path
                d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z">
              </path>
            </svg>
          </button>
        </div>
      </div>

      <div class="lg:w-7/6 flex flex-wrap mt-5" *ngFor="let itemImg of _product?.img">
        <img
          class="bg-white h-24 w-auto object-cover object-center border border-gray-300 hover:border-gray-500 rounded-lg mr-4 mb-4 p-2 cursor-pointer"
          [src]="itemImg ? itemImg : 'https://dummyimage.com/400x400'"
          (click)="handleChangeImg(itemImg)">
      </div>
    </div>
  </div>
</section>

<app-item-comments *ngIf="!dashboard"></app-item-comments>

